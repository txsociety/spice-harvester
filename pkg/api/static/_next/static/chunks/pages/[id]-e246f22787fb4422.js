(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{1446:e=>{e.exports={c1r00p4j:"c1r00p4j",s1it0isq:"s1it0isq",cudn58w:"cudn58w",tsp1duw:"tsp1duw"}},1734:e=>{e.exports={te5lw6g:"te5lw6g",b17byrx8:"b17byrx8",paid:"paid",cancelled:"cancelled",t1ycq8qy:"t1ycq8qy",a1g0x5j4:"a1g0x5j4",waiting:"waiting",p1548ruj:"p1548ruj"}},2315:e=>{e.exports={c1a3jxgv:"c1a3jxgv",cwbqakf:"cwbqakf",t4ruy4d:"t4ruy4d"}},3012:e=>{e.exports={i1cyemmh:"i1cyemmh",action:"action"}},3671:e=>{e.exports={t1xfm4pb:"t1xfm4pb",l2z84ty:"l2z84ty",l1pr1sig:"l1pr1sig",b1sdxrk4:"b1sdxrk4",b97f4zd:"b97f4zd",t1gmfwv5:"t1gmfwv5",narb31:"narb31",w7attdf:"w7attdf"}},4515:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[id]",function(){return n(7270)}])},5923:e=>{e.exports={c9daz23:"c9daz23"}},6200:e=>{e.exports={c48kimn:"c48kimn",szvjnin:"szvjnin",s1yh2lei:"s1yh2lei",akr8b99:"akr8b99",pmqg2bb:"pmqg2bb",p11nmxu1:"p11nmxu1"}},7270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ez});var a,s,r,i,l,c,o,d,u=n(7876),h=n(4232),m=n(9099),v=n(7888),p=n(3545);let g={medium:{size:16},large:{size:24}},x={medium:{size:16},large:{size:24}},f=h.forwardRef((e,t)=>{let{size:n="medium",color:a="var(--foregroundPrimary)",style:s}=e,r=g[n],i=x[n],l=r.size,c=i.size;return(0,u.jsx)("div",{ref:t,onClick:e.onClick,className:(0,p.cx)("icon-content","i1cyemmh",!!e.onClick&&"action",e.className),style:{"--size":l+"px","--icon-size":c+"px","--fill-color":a,...s},children:e.icon})});n(3012);var j=n(4587),w=n.n(j),b=n(2909),y=n(7461),N=n.n(y);let k=h.memo(e=>{let t=h.useMemo(()=>{let t=N().createQR(e.value,{qrSize:e.size,isShowLogo:!1,foregroundColor:"#000",ecc:0});return b.hp.from(t).toString("base64")},[]);return(0,u.jsx)("div",{className:(0,p.cx)("c9daz23",e.className),children:(0,u.jsx)(w(),{alt:"qr",style:{paddingLeft:e.size/80,paddingTop:e.size/80},width:e.size,height:e.size,src:"data:image/svg+xml;base64,".concat(t)})})});n(5923);let C="l2z84ty",z="l1pr1sig",A="b97f4zd",P="t1gmfwv5";n(3671);var S=n(865);let O=(e,t,n)=>{let a=Number(e)*t,s=void 0!==n?n:1>Math.abs(a)?5:2;return a.toLocaleString("en",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:s})},q=(e,t)=>{let n=Number(e),a=void 0!==t?t:1>Math.abs(n)?5:Math.abs(n)>=10?2:3;return new Intl.NumberFormat("en",{maximumFractionDigits:a}).format(n)};function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let M=function(e){return h.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a||(a=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0M8.5 5.75a.75.75 0 0 0-1.5 0V8c0 .199.079.39.22.53l1.75 1.75a.75.75 0 1 0 1.06-1.06L8.5 7.69z",clipRule:"evenodd"})))},_=(0,p.cx)(z,P,"tsp1duw"),R=h.memo(e=>{let{startCount:t,endCount:n}=e,[a,s]=h.useState(0),[r,i]=h.useState({minutes:0,seconds:0}),l=h.useCallback(()=>{let e=Date.now(),a=n-t,r=Math.max(0,n-e);s(Math.min(100,Math.max(0,(e-t)/a*100)));let l=Math.floor(r/1e3);i({minutes:Math.floor(l/60),seconds:l%60})},[t,n]);h.useEffect(()=>{l();let e=setInterval(()=>{l()},1e3);return()=>clearInterval(e)},[l]);let c=Math.max(-100,Math.min(0,a-100));return(0,u.jsxs)("div",{className:"c1r00p4j",children:[(0,u.jsxs)("svg",{className:"s1it0isq",width:"88",height:"32",viewBox:"0 0 88 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M16,1 H72 A15,15 0 0 1 87,16 V16 A15,15 0 0 1 72,31 H16 A15,15 0 0 1 1,16 V16 A15,15 0 0 1 16,1 Z",fill:"none",stroke:"#D9D9D9",strokeWidth:"2"}),(0,u.jsx)("path",{d:"M16,1 H72 A15,15 0 0 1 87,16 V16 A15,15 0 0 1 72,31 H16 A15,15 0 0 1 1,16 V16 A15,15 0 0 1 16,1 Z",fill:"none",stroke:"black",strokeWidth:"2",strokeDasharray:"208",strokeDashoffset:"".concat(208-208*c/100),strokeLinecap:"round"})]}),(0,u.jsxs)("div",{className:"cudn58w",children:[(0,u.jsx)(f,{icon:(0,u.jsx)(M,{})}),(0,u.jsxs)("div",{className:_,children:[r.minutes.toString().padStart(2,"0"),":",r.seconds.toString().padStart(2,"0")]})]})]})});function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}n(1446);let D=function(e){return h.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),s||(s=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14m3.526-8.465a.75.75 0 1 0-1.052-1.07L6.93 8.949 5.526 7.57a.75.75 0 0 0-1.052 1.07l1.929 1.895a.75.75 0 0 0 1.051 0z",clipRule:"evenodd"})))};function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let F=function(e){return h.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},e),r||(r=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M8.5 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14M6.503 4.942a.75.75 0 0 0-1.061 1.06L7.439 8 5.442 9.997a.75.75 0 1 0 1.06 1.061L8.5 9.061l1.998 1.997a.75.75 0 1 0 1.06-1.06L9.561 8l1.997-1.997a.75.75 0 0 0-1.06-1.061L8.5 6.939z",clipRule:"evenodd"})))},B=(0,p.cx)("t1xfm4pb","a1g0x5j4"),L=(0,p.cx)("b1sdxrk4","p1548ruj"),Q=h.memo(e=>{let{amount:t,currency:n,status:a,created_at:s,expire_at:r,jetton_info:i}=e.invoice,l=h.useMemo(()=>{if(!i)return q((0,S.fromNano)(t).toString());{var e;let n=null!=(e=i.decimals)?e:9;return q(parseFloat(t)/10**n)}},[]),c={waiting:(0,u.jsx)(M,{}),paid:(0,u.jsx)(D,{}),cancelled:(0,u.jsx)(F,{}),expired:(0,u.jsx)(M,{})};return(0,u.jsxs)("div",{className:"te5lw6g",children:["waiting"===a?(0,u.jsx)(R,{startCount:1e3*s,endCount:1e3*r}):(0,u.jsxs)("div",{className:(0,p.cx)(z,"b17byrx8",a),children:[(0,u.jsx)(f,{icon:c[a],color:{waiting:"var(--foregroundPrimary)",paid:"var(--accentGreen)",cancelled:"var(--accentRed)",expired:"var(--accentRed)"}[a]}),(0,u.jsx)("div",{children:{waiting:"Waiting",paid:"Paid",cancelled:"Cancelled",expired:"Expired"}[a]})]}),(0,u.jsxs)("div",{className:"t1ycq8qy",children:[(0,u.jsxs)("div",{className:(0,p.cx)(B,a),children:[l," ",n]}),!!e.tokenPrice&&(0,u.jsxs)("div",{className:L,children:["â‰ˆ ",O(l,e.tokenPrice)]})]})]})});n(1734);var U=n(4398),W=n(889),H=n(7086),V=n(2856);let G=new V.jI(new V.Qq({baseUrl:"https://testnet.tonapi.io",baseApiParams:{headers:{"Content-type":"application/json"}}})),J=new V.jI(new V.Qq({baseUrl:"https://tonapi.io",baseApiParams:{headers:{"Content-type":"application/json"}}})),X=e=>e?G:J;var Z=n(6758);function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let Y=function(e){return h.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i||(i=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M2.4 6.05a.75.75 0 0 1 1.05-.15L8 9.313 12.55 5.9a.75.75 0 0 1 .9 1.2l-5 3.75a.75.75 0 0 1-.9 0l-5-3.75a.75.75 0 0 1-.15-1.05",clipRule:"evenodd"})))};function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let ee=function(e){return h.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),l||(l=h.createElement("path",{fill:"#000",d:"M13.25 3a.75.75 0 0 1 0 1.5h-3.1c-1.132 0-1.937 0-2.566.052-.62.05-1.005.147-1.31.302a3.25 3.25 0 0 0-1.42 1.42c-.155.305-.252.69-.302 1.31-.052.63-.052 1.434-.052 2.566v3.7c0 1.132 0 1.937.052 2.566.05.62.147 1.005.302 1.31a3.25 3.25 0 0 0 1.42 1.42l.119.055c.286.123.648.203 1.191.247.63.052 1.434.052 2.566.052h3.1a.75.75 0 0 1 0 1.5h-3.1c-1.107 0-1.983 0-2.688-.057-.624-.05-1.165-.15-1.66-.363l-.208-.098a4.75 4.75 0 0 1-2.076-2.076c-.281-.55-.403-1.155-.461-1.868C2.999 15.834 3 14.958 3 13.85v-3.7c0-1.107 0-1.983.057-2.688.058-.713.18-1.317.46-1.868a4.75 4.75 0 0 1 2.077-2.076c.55-.281 1.155-.403 1.868-.461C8.167 2.999 9.042 3 10.15 3zm3.22 4.22a.75.75 0 0 1 1.004-.052l.056.052 4.25 4.25.052.056a.75.75 0 0 1 0 .948l-.052.056-4.25 4.25a.75.75 0 1 1-1.06-1.06l2.97-2.97H8.75a.75.75 0 0 1 0-1.5h10.69l-2.97-2.97-.052-.056a.75.75 0 0 1 .052-1.004"})))},et="s1yh2lei",en="akr8b99",ea="p11nmxu1",es=h.memo(e=>{let[t]=(0,U.Lg)(),[n,a]=h.useState(null),{loading:s,address:r,openLogin:i,handleLogout:l}=(0,W.A)(),[c,o]=h.useState(!1),[d,m]=h.useState("tonkeeper"),[p]=(0,H.E)({placement:"bottom",offset:4,autoWidth:!0,content:e=>{let{hide:t}=e;return(0,u.jsxs)("div",{className:"pmqg2bb",children:[(0,u.jsx)("div",{className:ea,onClick:()=>m("tonkeeper"),children:(0,u.jsxs)("div",{className:en,children:[(0,u.jsx)(w(),{src:(0,Z.F)("/assets/tonkeeper.png"),width:24,height:24,alt:"img"}),(0,u.jsx)("div",{className:C,children:"Tonkeeper"})]})}),(0,u.jsx)("div",{className:ea,onClick:()=>m("tonhub"),children:(0,u.jsxs)("div",{className:en,children:[(0,u.jsx)(w(),{src:(0,Z.F)("/assets/tonhub.png"),width:24,height:24,alt:"img"}),(0,u.jsx)("div",{className:C,children:"Tonhub"})]})}),(0,u.jsx)("div",{className:ea,onClick:()=>{m("tonconnect"),r||s||i()},children:(0,u.jsxs)("div",{className:en,children:[(0,u.jsx)(w(),{src:(0,Z.F)("/assets/tonconnect.png"),width:24,height:24,alt:"img"}),s?(0,u.jsx)(v.p,{}):(0,u.jsx)("div",{className:C,children:"Connect"}),!!r&&!s&&(0,u.jsx)(f,{icon:(0,u.jsx)(ee,{}),size:"large",color:"var(--foregroundSecondary)",onClick:e=>{e.stopPropagation(),e.preventDefault(),l(),t()}})]})})]})}}),g=h.useCallback(async()=>{if(!s){if(!r)return void i();if(null==e?void 0:e.jetton_info){let s=n;if(!s){var l;a(s=null==(l=(await X(e.testnet).blockchain.execGetMethodForBlockchainAccount(e.jetton_info.address,"get_wallet_address",{args:r})).decoded)?void 0:l.jetton_wallet_address)}if(s){let n=S.Cell.fromBase64(e.payload),a=(0,S.beginCell)().storeUint(0xf8a7ea5,32).storeUint(0,64).storeCoins(BigInt(e.amount)).storeAddress(S.Address.parse(e.pay_to_address)).storeAddress(S.Address.parse(r)).storeBit(0).storeCoins(1).storeBit(1).storeRef(n).endCell();try{await t.sendTransaction({validUntil:e.expire_at,messages:[{address:s,amount:(0,S.toNano)(.05).toString(),payload:a.toBoc().toString("base64")}]})}catch(e){console.log(e)}o(!0)}}else try{await t.sendTransaction({validUntil:e.expire_at,messages:[{address:e.pay_to_address,amount:e.amount,payload:e.payload}]}),o(!0)}catch(e){console.log(e)}}},[s,r,e,n]);return(0,u.jsxs)("div",{className:"c48kimn",children:["tonconnect"!==d&&(0,u.jsx)("a",{className:et,href:e.payment_links[d],target:"_blank",children:(0,u.jsx)("div",{className:C,children:"Pay"})}),"tonconnect"===d&&(0,u.jsx)("div",{className:et,onClick:s||c?void 0:g,children:s||c?(0,u.jsx)(v.p,{color:"var(--constantWhite)"}):(0,u.jsx)("div",{className:C,children:"Pay"})}),(0,u.jsx)("div",{className:"szvjnin"}),(0,u.jsxs)("div",{className:et,style:{minWidth:168},onClick:p,children:["tonconnect"!==d&&(0,u.jsxs)("div",{className:en,children:[(0,u.jsx)(w(),{src:(0,Z.F)("/assets/".concat(d,".png")),width:24,height:24,alt:"img"}),(0,u.jsx)("div",{className:C,children:{tonkeeper:"Tonkeeper",tonhub:"Tonhub"}[d]})]}),"tonconnect"===d&&(0,u.jsxs)("div",{className:en,children:[(0,u.jsx)(w(),{src:(0,Z.F)("/assets/tonconnect.png"),width:24,height:24,alt:"img"}),(0,u.jsx)("div",{className:C,children:"Connect"})]}),(0,u.jsx)(f,{icon:(0,u.jsx)(Y,{}),color:"var(--foregroundSecondary)"})]})]})});n(6200);var er=n(6269),ei=n.n(er);function el(){return(el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let ec=function(e){return h.createElement("svg",el({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),c||(c=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M11 11c-.002 1.278-.027 1.963-.3 2.499A2.75 2.75 0 0 1 9.498 14.7C8.91 15 8.14 15 6.6 15H5.4c-1.54 0-2.31 0-2.898-.3A2.75 2.75 0 0 1 1.3 13.5C1 12.91 1 12.14 1 10.6V9.4c0-1.54 0-2.31.3-2.898A2.75 2.75 0 0 1 2.502 5.3C3.037 5.027 3.722 5.002 5 5c.002-1.278.027-1.963.3-2.498A2.75 2.75 0 0 1 6.502 1.3C7.09 1 7.86 1 9.4 1h1.2c1.54 0 2.31 0 2.899.3A2.75 2.75 0 0 1 14.7 2.502c.3.588.3 1.358.3 2.898v1.2c0 1.54 0 2.31-.3 2.898A2.75 2.75 0 0 1 13.5 10.7c-.536.273-1.22.298-2.5.3M6.5 5h.1c1.54 0 2.31 0 2.898.3A2.75 2.75 0 0 1 10.7 6.502c.3.588.3 1.358.3 2.898v.1h.5c.7 0 1.05 0 1.318-.136a1.25 1.25 0 0 0 .546-.547C13.5 8.55 13.5 8.2 13.5 7.5v-3c0-.7 0-1.05-.136-1.317a1.25 1.25 0 0 0-.546-.547C12.55 2.5 12.2 2.5 11.5 2.5h-3c-.7 0-1.05 0-1.317.136a1.25 1.25 0 0 0-.547.547C6.5 3.45 6.5 3.8 6.5 4.5zm-4 3.5c0-.7 0-1.05.136-1.317a1.25 1.25 0 0 1 .547-.547C3.45 6.5 3.8 6.5 4.5 6.5h3c.7 0 1.05 0 1.317.136.236.12.427.311.547.547C9.5 7.45 9.5 7.8 9.5 8.5v3c0 .7 0 1.05-.136 1.318a1.25 1.25 0 0 1-.547.546C8.55 13.5 8.2 13.5 7.5 13.5h-3c-.7 0-1.05 0-1.317-.136a1.25 1.25 0 0 1-.547-.546C2.5 12.55 2.5 12.2 2.5 11.5z",clipRule:"evenodd"})))};function eo(){return(eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let ed=function(e){return h.createElement("svg",eo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o||(o=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 1.06-1.06L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0",clipRule:"evenodd"})))},eu=(0,p.cx)(z,"tutltjk"),eh=(0,p.cx)(A,P,"w7attdf","i1j9xe3s"),em=h.memo(e=>{let[t,n]=h.useState(!1),a=h.useCallback(()=>{n(!0),ei()(e.text),setTimeout(()=>{n(!1)},500)},[e.text]);return(0,u.jsxs)("div",{className:"izhmgp4",children:[(0,u.jsx)("div",{className:eu,children:e.title}),(0,u.jsxs)("div",{className:"i1vevcms",children:[(0,u.jsx)("div",{className:eh,children:e.text}),(0,u.jsx)(f,{icon:t?(0,u.jsx)(ed,{}):(0,u.jsx)(ec,{}),color:"var(--foregroundSecondary)",onClick:a,size:"large"})]})]})}),ev=h.memo(e=>{let{pay_to_address:t,id:n,amount:a}=e;return(0,u.jsxs)("div",{className:"ce76pzj",children:[(0,u.jsx)(em,{title:"Address",text:S.Address.parse(t).toString({bounceable:!1,testOnly:!1})}),(0,u.jsx)(em,{title:"Comment",text:n}),(0,u.jsx)(em,{title:"Amount",text:(0,S.fromNano)(a).toString()})]})});function ep(){return(ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}n(7856);let eg=function(e){return h.createElement("svg",ep({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),d||(d=h.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M9.727 3.171a.75.75 0 0 0-1.056.102l-3.5 4.25a.75.75 0 0 0 0 .954l3.5 4.25a.75.75 0 0 0 1.158-.954L6.722 8l3.107-3.773a.75.75 0 0 0-.102-1.056",clipRule:"evenodd"})))},ex=(0,p.cx)(A,"t1i3fjpv"),ef=(0,p.cx)(ex,"tmyj3be"),ej=h.memo(e=>{let[t,n]=h.useState(!1),{payment_links:a,status:s}=e.invoice,r=h.useCallback(()=>{n(!t)},[t]);return(0,u.jsxs)("div",{className:"c1fbacu8",children:[(0,u.jsx)(Q,{...e}),"waiting"===s&&(0,u.jsxs)("div",{className:"c1g5vvmf",children:[!t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k,{size:320,value:a.universal}),(0,u.jsx)(es,{...e.invoice,testnet:e.testnet}),(0,u.jsxs)("div",{className:"s354xpe",children:[(0,u.jsx)("div",{className:"line"}),(0,u.jsx)("div",{className:ex,children:"or"}),(0,u.jsx)("div",{className:"line"})]}),(0,u.jsx)("div",{className:(0,p.cx)(ef,"center"),onClick:r,children:"Transfer TON with comment"})]}),t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"bwdyjg8",onClick:r,children:[(0,u.jsx)(f,{icon:(0,u.jsx)(eg,{}),color:"var(--foregroundSecondary)"}),(0,u.jsx)("div",{className:ef,children:"Transfer TON with comment"})]}),(0,u.jsx)(ev,{...e.invoice})]})]})]})});n(9850);class ew{encodeQueryParam(e,t){let n=encodeURIComponent(e);return"".concat(n,"=").concat(encodeURIComponent("number"==typeof t?t:"".concat(t)))}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(e=>this.encodeQueryParam(t,e)).join("&")}toQueryString(e){let t=e||{};return Object.keys(t).filter(e=>void 0!==t[e]).map(e=>Array.isArray(t[e])?this.addArrayQueryParam(t,e):this.addQueryParam(t,e)).join("&")}addQueryParams(e){let t=this.toQueryString(e);return t?"?".concat(t):""}mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}constructor(e={}){this.baseUrl="http://localhost:8081",this.securityData=null,this.abortControllers=new Map,this.customFetch=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t)},this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=e=>{this.securityData=e},this.contentFormatters={"application/json":e=>null!==e&&("object"==typeof e||"string"==typeof e)?JSON.stringify(e):e,"text/plain":e=>null!==e&&"string"!=typeof e?JSON.stringify(e):e,"multipart/form-data":e=>Object.keys(e||{}).reduce((t,n)=>{let a=e[n];return t.append(n,a instanceof Blob?a:"object"==typeof a&&null!==a?JSON.stringify(a):"".concat(a)),t},new FormData),"application/x-www-form-urlencoded":e=>this.toQueryString(e)},this.createAbortSignal=e=>{if(this.abortControllers.has(e)){let t=this.abortControllers.get(e);return t?t.signal:void 0}let t=new AbortController;return this.abortControllers.set(e,t),t.signal},this.abortRequest=e=>{let t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))},this.request=async e=>{let{body:t,secure:n,path:a,type:s,query:r,format:i,baseUrl:l,cancelToken:c,...o}=e,d=("boolean"==typeof n?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},u=this.mergeRequestParams(o,d),h=r&&this.toQueryString(r),m=this.contentFormatters[s||"application/json"],v=i||u.format;return this.customFetch("".concat(l||this.baseUrl||"").concat(a).concat(h?"?".concat(h):""),{...u,headers:{...u.headers||{},...s&&"multipart/form-data"!==s?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):u.signal)||null,body:null==t?null:m(t)}).then(async e=>{let t=e.clone();t.data=null,t.error=null;let n=v?await e[v]().then(e=>(t.ok?t.data=e:t.error=e,t)).catch(e=>(t.error=e,t)):t;if(c&&this.abortControllers.delete(c),!e.ok)throw n;return n.data})},Object.assign(this,e)}}class eb{constructor(e){var t=this;this.invoices={newInvoice:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.http.request({path:"/tonpay/private/api/v1/invoice",method:"POST",body:e,secure:!0,format:"json",...n})},getInvoiceHistory:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.http.request({path:"/tonpay/private/api/v1/invoices",method:"GET",query:e,secure:!0,format:"json",...n})},getInvoice:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.http.request({path:"/tonpay/private/api/v1/invoices/".concat(e),method:"GET",secure:!0,format:"json",...n})},getInvoicePublic:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.http.request({path:"/tonpay/public/api/v1/invoices/".concat(e),method:"GET",format:"json",...n})},cancelInvoice:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.http.request({path:"/tonpay/private/api/v1/invoices/".concat(e,"/cancel"),method:"POST",secure:!0,format:"json",...n})}},this.http=e}}let ey=new eb(new ew({baseUrl:"",baseApiParams:{headers:{"Content-type":"application/json"}}})),eN="cwbqakf",ek=(0,p.cx)(A,"t4ruy4d"),eC=h.memo(e=>{let[t,n]=h.useState(null),[a,s]=h.useState(void 0),r=h.useCallback(async()=>{let t=await ey.invoices.getInvoicePublic(e.id);return n(t),t},[]);return(h.useEffect(()=>{(async()=>{var t,n,a;let i=await r(),l=(null==i?void 0:i.jetton_info)?i.jetton_info.address:"TON";s((null==(a=(await X(e.testnet).rates.getRates({tokens:[l],currencies:["USD"]})).rates)||null==(n=a[l])||null==(t=n.prices)?void 0:t.USD)||void 0)})();let t=setInterval(async()=>{await r()},3e3);return()=>clearInterval(t)},[]),t)?(0,u.jsxs)("div",{className:"c1a3jxgv",children:[(0,u.jsx)("div",{className:eN,children:(0,u.jsx)(ej,{invoice:t,tokenPrice:a,testnet:e.testnet})}),(0,u.jsxs)("div",{className:ek,children:["Invoice ID: ",e.id]})]}):(0,u.jsx)("div",{className:eN,children:(0,u.jsx)(v.p,{centered:!0})})});function ez(){let{id:e,testnet:t}=(0,m.useRouter)().query;return e?(0,u.jsx)(eC,{id:e,testnet:"true"===t}):(0,u.jsx)(v.p,{centered:!0})}n(2315)},7856:e=>{e.exports={ce76pzj:"ce76pzj",izhmgp4:"izhmgp4",i1vevcms:"i1vevcms",tutltjk:"tutltjk",i1j9xe3s:"i1j9xe3s"}},9850:e=>{e.exports={c1fbacu8:"c1fbacu8",c1g5vvmf:"c1g5vvmf",bwdyjg8:"bwdyjg8",s354xpe:"s354xpe",line:"line",t1i3fjpv:"t1i3fjpv",tmyj3be:"tmyj3be",center:"center"}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,636,593,792],()=>t(4515)),_N_E=e.O()}]);